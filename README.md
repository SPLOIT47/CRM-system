# CRM-system
## 1. Определение требований

   - ### Аутентификация и авторизация:
     - Роли пользователей, как «Менеджер» (может создавать и редактировать проекты и задачи) и «Исполнитель» (может видеть и обновлять только назначенные задачи).

   - ### CRUD операции для проектов и задач:
     - Создание, чтение, обновление и удаление проектов и задач.

   - ### Управление статусами и приоритетами задач.

   - ### Система уведомлений:
     - Отправка уведомлений в случае изменения статуса задачи (использовать многопоточность для обработки и отправки уведомлений).

   - ### Отчетность:
     - Генерация отчетов по статусу проекта, выполненным задачам, эффективности команды.

   - ### Многопоточность:
     - Использовать для оптимизации отправки уведомлений и выполнения фоновых операций.

## 2. Архитектура и дизайн проекта

   ### Общая архитектура: MVC

   - #### Model: 
      Содержит бизнес-логику и взаимодействие с базой данных.

   - #### View: 
      Интерфейс для представления данных.

   - #### Controller: 
      Обрабатывает запросы от пользователя и взаимодействует с Model для выполнения бизнес-логики.

   ### Используемые паттерны проектирования:
   - #### Builder: 
      Для создания экземпляров задач и проектов.

   - #### Observer:
      Для реализации системы уведомлений (подписка на обновления задач).

## 3. Подробный план разработки компонентов

   ### 3.1 Модель (Model)

   #### 1. Классы сущностей (Entity)

   - ##### User: 
      Имеет свойства id, username, password, role.

   - ##### Project: 
      Имеет свойства id, name, description, status.

   - ##### Task: 
      Имеет свойства id, title, description, status, priority, assignedUser, project.

   #### 2. Repository:
   Использование Spring data-jpa для создания репозитория.

  ### 3.2 Контроллеры (Controllers)
   
   #### 1. AuthenticationController:
   - Методы для аутентификации пользователя и проверки ролей.
   - Проверка прав доступа для выполнения определенных операций.

   #### 2. ProjectController:
   - Добавления, обновления, удаления задач в проекте.
   - Установки приоритетов и статусов для задач, чтобы обеспечить контроль приоритетов в рамках конкретного проекта.
   - Получения задач конкретного проекта с возможностью фильтрации и сортировки по статусу или приоритету.

   #### 3. NotificationController:
   - Подписывает пользователей на уведомления о задачах, используя паттерн Observer.
   - Использует многопоточность для асинхронной отправки уведомлений (например, через email или сообщения в системе).

  ### 3.3 Представление (View)

  #### 1. Формы для CRUD операций

  - ##### User Login Page: 
    Форма для аутентификации.

  - ##### Project Management Page:
    Форма для создания и редактирования проектов.

  - ##### Task Management Page: 
    Форма для управления задачами и статусами.

  #### 2. Отображение данных
  - Списки проектов и задач с возможностью фильтрации и сортировки.
  - Отчеты по статусу задач и проектов.

## 4. Реализация многопоточности
   #### 1. Система уведомлений
   - Создать отдельный поток для отправки уведомлений об изменении статуса задачи, используя ExecutorService.
   - Потоки для отправки уведомлений должны выполняться асинхронно, чтобы не блокировать основной поток выполнения приложения.

   #### 2. Фоновые задачи
   - Планирование фоновых задач (например, ежедневный отчет о статусе проектов), используя ScheduledExecutorService.

## 5. Тестирование и отладка
   #### 1. Мок-тестирование
   - Использовать Mockito для мокирования зависимостей (например, базы данных) при тестировании логики.

   #### 2. Многопоточные тесты
   - Тестирование многопоточности: проверить, что отправка уведомлений происходит асинхронно и корректно обрабатывает конкурентные запросы.

## 6. Развертывание и доработка
   - Подготовить документацию для развертывания и настройки системы.
   - Настроить конфигурационные файлы для базы данных, ролей пользователей, доступа и многопоточности.